<p>Growthplot WHO CPEG Head Circumference Male</p>
<div id="chartdiv" style="width: 100%; height: 800px;"></div>

<style type="text/css">
  #chartdiv {
    width   : 100%;
    height    : 500px;
    font-size : 11px;
  }

  .amcharts-graph-p3 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p10 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p25 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p50 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p75 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p90 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  .amcharts-graph-p97 .amcharts-graph-stroke {
    stroke-dasharray: 500% ;
    -webkit-animation: css-effect 5s ease-out forwards;
    animation: css-effect 5s ease-out forwards;
  }

  @-webkit-keyframes css-effect {
    0% {
      stroke-dashoffset: 500%;
    }
    100% {
      stroke-dashoffset: 0%;
    }
  }
  @keyframes css-effect {
    0% {
      stroke-dashoffset: 500%;
    }
    100% {
      stroke-dashoffset: 0%;
    }
  }
</style>

<script type="text/javascript">

  var head_circumference_male = {{ head_circumference_male|safe }};

  var percentiles = ["p3", "p10", "p25", "p50", "p75", "p90", "p97"];

  var chartData = [];

  var graphData = [];

  //Prepare the data
  head_circumference_male.forEach(function (element, array, index){
    chartData.push(element.fields);
  });

  percentiles.forEach(function (element, array, index) {
    var graph = {
      'id' : element,
      "lineAlpha": 1,
      "valueField": 0,
      "xField": "month",
      "yField": element,
      "lineColor" : "#d1655d",
      "lineThickness" : 2
    };
    graphData.push(graph);
  });

  var chart = AmCharts.makeChart("chartdiv",{
    "type": "xy",
    "graphs": graphData,
    "dataProvider": chartData,
    "addClassNames" : true
  });

</script>